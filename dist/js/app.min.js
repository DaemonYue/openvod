/*! openvod | emma | ISC */
"use strict";!function(){angular.module("openvod",["ui.router","pascalprecht.translate","app.controllers","app.filters","app.directives","app.services"]).config(["$translateProvider",function(a){var b=navigator.language.indexOf("zh")>-1?"zh-CN":"en-US";a.preferredLanguage(b),a.useStaticFilesLoader({prefix:"i18n/",suffix:".json"})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/login"),a.state("login",{url:"/login",templateUrl:"pages/login.html"}).state("app",{url:"/app",templateUrl:"pages/app.html"}).state("app.shop",{url:"/shop",templateUrl:"pages/shop.html"}).state("app.shop.goods",{url:"/goods?shopId",templateUrl:"pages/goods.html"}).state("app.shop.goods.goodsList",{url:"/goodsList?categoryId",templateUrl:"pages/goodsList.html"}).state("app.hotelRoom",{url:"/hotelRoom",templateUrl:"pages/hotelRoom.html"})}]).constant("CONFIG",{serverUrl:"http://openvod.cleartv.cn/backend_wx/v1/",testUrl:"test/",testExtesion:".json",test:!0})}(),function(){angular.module("app.controllers",["ngTable"]).controller("indexController",["$scope",function(a){var b=this;b.init=function(){this.maskUrl=""}}]).controller("loginController",["$scope",function(a){var b=this;b.init=function(){}}]).controller("appController",["$state",function(a){var b=this;b.init=function(){b.appPhase=1,b.appFramePhase=1},b.switchApp=function(c){switch(b.appPhase=2,c){case 0:a.go("app.hotelRoom");break;case 1:a.go("app.shop")}},b.showDesktop=function(){b.appPhase=1,setTimeout(function(){b.appFramePhase=1},530)},b.focusLauncher=function(){b.appFramePhase=2},b.focusApp=function(){b.appFramePhase=1},b.logout=function(a){}}]).controller("shopController",["$scope","$state","$http","$stateParams","$filter","util",function(a,b,c,d,e,f){console.log("shopController");var g=this;g.init=function(){g.searchShopList()},g.searchShopList=function(){var a={hotelId:1};a=JSON.stringify(a),c({method:e("ajaxMethod")(),url:f.getApiUrl("hotelinfo","shopList"),data:a}).then(function(a,b,c,d){console.log(a)},function(a,b,c,d){})},g.shopAdd=function(){g.maskUrl="pages/shopAdd.html"},g.shopAddCancel=function(){console.log("shopAddCancel"),g.maskUrl="",console.log("cancel")}}]).controller("goodsController",["$scope","$state","$http","$stateParams","$filter","util",function(a,b,c,d,e,f){console.log("goodsController"),console.log(d);var g=this;g.init=function(){g.shopId=d.shopId},g.goodsEdit=function(){a.shop.maskUrl="pages/goodsEdit.html"},g.categotyEdit=function(){a.shop.maskUrl="pages/categoryEdit.html"}}]).controller("goodsListController",["$stateParams",function(a){console.log("goodsListController"),console.log(a);var b=this;b.init=function(){b.shopId=a.categoryId}}]).controller("hotelRoomController",["$scope",function(a){var b=this;b.init=function(){}}])}(),function(){angular.module("app.directives",[])}(),function(){angular.module("app.services",[]).factory("util",["CONFIG",function(a){return{getApiUrl:function(b,c,d){return a.test?"server"==d?a.serverUrl+b:a.testUrl+c+a.testExtesion:a.serverUrl+b}}}])}(),function(){angular.module("app.filters",[]).filter("ajaxMethod",["CONFIG",function(a){return function(){var b=a.test?"GET":"POST";return b}}])}();