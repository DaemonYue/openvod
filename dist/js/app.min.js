/*! openvod | emma | ISC */
"use strict";!function(){angular.module("openvod",["ui.router","pascalprecht.translate","app.controllers","app.filters","app.directives","app.services","angular-md5"]).config(["$translateProvider",function(a){var b=navigator.language.indexOf("zh")>-1?"zh-CN":"en-US";a.preferredLanguage(b),a.useStaticFilesLoader({prefix:"i18n/",suffix:".json"})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/login"),a.state("login",{url:"/login",templateUrl:"pages/login.html"}).state("app",{url:"/app",templateUrl:"pages/app.html"}).state("app.shop",{url:"/shopCart",templateUrl:"pages/shop.html"}).state("app.hotelRoom",{url:"/hotelRoom",templateUrl:"pages/hotelRoom.html"})}]).constant("CONFIG",{serverUrl:"http://openvod.cleartv.cn/backend_mgt/v1/",testUrl:"test/",testExtesion:".json",test:!1})}(),function(){angular.module("app.controllers",[]).controller("indexController",["$scope",function(a){var b=this;b.init=function(){this.maskUrl=""}}]).controller("loginController",["$scope","$http","$filter","$state","md5","util",function(a,b,c,d,e,f){var g=this;g.init=function(){},g.login=function(){var a=$("#login-userName").val(),g=e.createHash($("#login-password").val()),h=JSON.stringify({action:"GetToken",projectName:$("#login-projectName").val(),username:a,password:g});alert(c("ajaxMethod")()),alert(h),b({method:c("ajaxMethod")(),url:f.getApiUrl("logon"),data:h}).then(function(b){f.setParams("userName",a),f.setParams("psaaword",g),d.go("app")},function(a){})}}]).controller("appController",["$state","util",function(a,b){var c=this;c.init=function(){c.appPhase=1,c.appFramePhase=1,console.log(b.getParams("userName")),console.log(b.getParams("psaaword"))},c.switchApp=function(b){switch(c.appPhase=2,b){case 0:a.go("app.hotelRoom");break;case 1:a.go("app.shopCart")}},c.showDesktop=function(){c.appPhase=1,setTimeout(function(){c.appFramePhase=1},530)},c.focusLauncher=function(){c.appFramePhase=2},c.focusApp=function(){c.appFramePhase=1},c.logout=function(a){}}]).controller("shopCartController",["$scope",function(a){var b=this;b.init=function(){}}]).controller("hotelRoomController",["$scope",function(a){var b=this;b.init=function(){}}])}(),function(){angular.module("app.directives",[])}(),function(){angular.module("app.services",[]).factory("util",["CONFIG",function(a){var b={};return{getApiUrl:function(b,c,d){return a.test?"server"==d?a.serverUrl+b:a.testUrl+c+a.testExtesion:a.serverUrl+b},setParams:function(a,c){b[a]=c},getParams:function(a){return b[a]},MD5:function(a){}}}])}(),function(){angular.module("app.filters",[]).filter("ajaxMethod",["CONFIG",function(a){return function(){var b=a.test?"GET":"POST";return b}}])}();