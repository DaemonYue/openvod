<div ng-controller="hotelOrderListController as hol" ng-init="hol.init()">

    <!--加载门店列表-->
    <div ng-show="hol.loadingShopList">loading...</div>
    <!--加载门店列表-->

    <!--筛选条件－门店-->
    <ng-repeat ng-repeat="shop in shopList">
        <a ng-click="hol.searchByShop(shop.ID)" ng-class="{'active': shop.active}">{{shop.Name[hol.defaultLangCode]}}</a> 
    </ng-repeat><br>
    <!--筛选条件－门店-->

    <!--筛选条件－订单状态-->
    <ng-repeat ng-repeat="s in status">
        <a ng-click="hol.searchByStatus(s.code)" ng-class="{'active': s.active}">{{s.name[hol.defaultLangCode]}}</a> 
    </ng-repeat><br>
    <!--筛选条件－订单状态-->
    
    <!--筛选条件－买家名&&订单号-->
    联系人 <input ng-model="hol.searchStr.userName" type="text">
    手机号 <input ng-model="hol.searchStr.userPhone" type="text">
    订单号 <input ng-model="hol.searchStr.orderNumber" type="text"><a ng-click="hol.search()">搜索</a><br>
    <!--筛选条件－买家名&&订单号-->

    <!--订单列表-->
    订单信息 操作 <a ng-click="hol.gotoDetail(1)">详情</a>

    <table ng-table="hol.tableParams" class="table table-hover table-striped">
        <tr ng-repeat="row in $data">
            <!--订单号-->
            <td title="'订单号'">
                {{row.OrderNum}}
            </td>
            <!--订单号-->

            <!--下单时间-->
            <td title="'下单时间'">
                {{row.CreateTime}}
            </td>
            <!--下单时间-->

            <!--订单状态-->
            <td title="'订单状态'">
                {{row.Status | orderStatus}}
            </td>
            <!--订单状态-->

            <!--订单总价-->
            <td title="'订单总价'">
                {{row.GoodsTotalPrice | fenToYuan}}
            </td>
            <!--订单总价-->

            <!--客房信息－酒店名-->
            <td title="'酒店名'">
                {{row.Name[hol.defaultLangCode]}}
            </td>
            <!--客房信息－酒店名-->

            <!--客房信息－客房名-->
            <td title="'客房名'">
                {{row.RoomTypeName[hol.defaultLangCode]}}
            </td>
            <!--客房信息－客房名-->

            <!--入住信息－入住时间-->
            <td title="'入住时间'">
                {{row.BookStartDate}}
            </td>
            <!--入住信息－入住时间-->

            <!--入住信息－离店时间-->
            <td title="'离店时间'">
                {{row.BookEndDate}}
            </td>
            <!--入住信息－离店时间-->

            <!--入住信息－房间数量-->
            <td title="'房间数量'">
                {{row.GoodsNum}}
            </td>
            <!--入住信息－房间数量-->

            <!--联系人－姓名-->
            <td title="'姓名'">
                {{row.ContactorName}}
            </td>
            <!--联系人－姓名-->

            <!--联系人－手机-->
            <td title="'手机'">
                {{row.ContactorPhone}}
            </td>
            <!--联系人－手机-->
            
            <!--操作-->
            <td title="'操作'">
                <!--历史-->
                <a ng-click="hol.gotoDetail(row.OrderID)">历史</a>
                <!--历史-->

                <!--接受-->
                <a ng-click="hol.accept(row.OrderID)" ng-show="row.Status=='WAITAPPROVAL'">接受</a>
                <!--接受-->

                <!--拒绝-->
                <a ng-click="hol.reject(row.OrderID)" ng-show="row.Status=='WAITAPPROVAL'">拒绝</a>
                <!--拒绝-->

                <!--已完成-->
                <a ng-show="row.Status=='ACCEPT'">已完成</a>
                <!--已完成-->

                <!--取消订单-->
                <a ng-show="row.Status=='WAITPAY' || row.Status=='ACCEPT'">取消订单</a>
                <!--取消订单-->
            </td>
            <!--操作-->

        </tr>
    </table>
    <div ng-show="hol.loading">loading...</div>
    <div ng-show="hol.noData">无数据</div>


    <!--订单列表-->
</div>