<div ng-controller="roomEditPriceController as roomEditPrice" ng-init="roomEditPrice.init()"
     style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4);">
    <div style="background-color: white;">
        <span>价格</span>
        <div>
            <div ng-show="loading">loading...</div>
            <form name="roomEditPriceForm" ng-submit="roomEditPriceForm.$valid && roomEditPrice.save()">
                <div>
                    <div>周一：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceMonday" required>
                        {{roomEditPrice.roomDetail.PriceMonday | currency : '￥'}}</div>
                    <div>周二：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceTuesday" required>
                        {{roomEditPrice.roomDetail.PriceTuesday | currency : '￥'}}</div>
                    <div>周三：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceWednesday" required>
                        {{roomEditPrice.roomDetail.PriceWednesday | currency : '￥'}}</div>
                    <div>周四：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceThursday" required>
                        {{roomEditPrice.roomDetail.PriceThursday | currency : '￥'}}</div>
                    <div>周五：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceFriday" required>
                        {{roomEditPrice.roomDetail.PriceFriday | currency : '￥'}}</div>
                    <div>周六：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceSaturday" required>
                        {{roomEditPrice.roomDetail.PriceSaturday | currency : '￥'}}</div>
                    <div>周日：<input type="text" onkeyup="value=value.replace(/[^\d.]/g,'')"
                                   ng-model="roomEditPrice.roomDetail.PriceSunday" required>
                        {{roomEditPrice.roomDetail.PriceSunday | currency : '￥'}}</div>
                </div>
                <div>
                    <div>临时变动表
                        <button type="button" ng-click="roomEditPrice.addTemporary(0)">添加设置</button>
                    </div>
                    <div style=" max-height: 500px; overflow: auto;">
                        <div ng-repeat="reply in roomEditPrice.SpecialPrice">
                            <div>
                                <button type="button" ng-click="roomEditPrice.deleteTemporary($index)">删除</button>
                            </div>
                            <div>
                                <p class="input-group">
                                    <input type="text" class="form-control" uib-datepicker-popup
                                           ng-model="roomEditPrice.SpecialPrice[$index].PriceDate"
                                           is-open="roomEditPrice.SpecialPrice[$index].Opened"
                                           datepicker-options="dateOptions"
                                           required close-text="Close" placeholder="请选择日期"/>
                                    <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="roomEditPrice.open($index)"><i
                                            class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                                </p>
                            </div>
                            <div><input type="text" placeholder="请输入价格" required
                                        onkeyup="value=value.replace(/[^\d.]/g,'')"
                                        ng-model="roomEditPrice.SpecialPrice[$index].Price">
                                {{roomEditPrice.SpecialPrice[$index].Price | currency : '￥'}}</div>
                        </div>
                    </div>
                </div>
                <div>
                    <button ng-click="roomEditPrice.cancel()">{{'CANCEL' | translate}}</button>
                    <button type="submit" ng-disabled="roomEditPrice.saving">{{'SAVE' | translate}}</button>
                </div>
            </form>
        </div>
    </div>
</div>